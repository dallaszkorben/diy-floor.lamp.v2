#! /usr/bin/python3

from senact.sa_light import SALight
from time import sleep

if __name__ == "__main__":

    PIN_PWM = 18
    FREQ_PWM = 800

    PIN_CLOCK = 17
    PIN_DATA = 27
    PIN_SWITCH = 23

    potmeterValue = 0

    def getPotmeterValue():
        global potmeterValue
        return potmeterValue

    def setPotmeterValue(value):
        global potmeterValue
        potmeterValue = value;

    iLight = SALight( PIN_PWM, FREQ_PWM, PIN_CLOCK, PIN_DATA, PIN_SWITCH, getPotmeterValue, setPotmeterValue )

    try:
        while True:
            sleep(10)
    finally:
        iLight.unconfigure()